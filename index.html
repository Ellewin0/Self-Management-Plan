<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECU Goal Setting Planner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Custom Palette from Image */
        :root {
            --palette-lilac: #E0D7FF;
            --palette-orange: #F06543;
            --palette-green: #56B97E;
            --palette-blue: #E1F2F7;
            --palette-yellow: #E9BC6B;
            --palette-teal: #6BA39C;
            --text-main: #2D3748;
        }

        body {
            background-color: var(--palette-blue);
            color: var(--text-main);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            scroll-behavior: smooth;
        }

        .step-content { display: none; }
        .step-content.active { display: block; animation: slideUp 0.4s ease-out; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .energy-btn.selected {
            border-color: var(--palette-teal);
            background-color: var(--palette-teal);
            color: white;
        }

        /* Print Specifics */
        @media print {
            .no-print { display: none !important; }
            .print-only { display: block !important; }
            body { background: white !important; }
            .print-card {
                border: 2px solid #eee;
                border-radius: 15px;
                padding: 20px;
                margin-bottom: 20px;
                page-break-inside: avoid;
            }
            @page { size: A4; margin: 15mm; }
        }
        .print-only { display: none; }
    </style>
</head>
<body class="min-h-screen">

    <!-- HEADER -->
    <header class="no-print bg-white/70 backdrop-blur-md border-b border-white/50 py-4 px-6 sticky top-0 z-20">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="p-2 bg-[#D8C9FF] rounded-xl text-[#5D4DA3]">
                    <i data-lucide="target"></i>
                </div>
                <div>
                    <h1 class="text-lg font-bold leading-tight">Goal Setting Planner</h1>
                    <p class="text-[10px] font-black text-[#5D4DA3] uppercase tracking-[0.2em]">Guided Mentoring</p>
                </div>
            </div>
            
            <!-- Goal Anchor (Visible after step 2) -->
            <div id="goal-anchor" class="hidden md:flex items-center gap-2 px-4 py-2 bg-white/50 rounded-full border border-indigo-100 max-w-xs overflow-hidden opacity-0 transition-opacity duration-500">
                <i data-lucide="anchor" class="w-3 h-3 text-indigo-400"></i>
                <span id="anchor-text" class="text-[10px] font-bold truncate">Current Goal...</span>
            </div>

            <div class="flex items-center gap-6">
                <div class="hidden sm:block w-32 h-2 bg-white/50 rounded-full overflow-hidden border border-gray-200">
                    <div id="progress-bar" class="h-full bg-[#56B97E] transition-all duration-500" style="width: 12.5%;"></div>
                </div>
                <span id="progress-text" class="text-xs font-black opacity-40">1 / 8</span>
            </div>
        </div>
    </header>

    <main class="no-print max-w-6xl mx-auto px-6 py-8 lg:py-12">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
            
            <!-- LEFT: MENTOR'S COMPASS -->
            <aside class="lg:col-span-4 sticky top-24">
                <div class="glass-card p-6 rounded-[2rem] border-2 border-white/50 shadow-xl shadow-indigo-100/20">
                    <div class="flex items-center gap-2 mb-4 text-[#6BA39C]">
                        <i data-lucide="compass" class="w-4 h-4"></i>
                        <h3 class="font-bold uppercase text-[10px] tracking-widest">Mentor's Compass</h3>
                    </div>
                    <h4 id="guide-title" class="text-xl font-bold mb-3 text-gray-800">Foundations</h4>
                    <p id="guide-text" class="text-sm leading-relaxed text-gray-600 mb-6">
                        Explain that this plan belongs to the student. It is a "living document" that helps them feel empowered during stressful moments.
                    </p>
                    <div id="tip-box" class="p-4 bg-[#E0D7FF]/40 rounded-2xl border border-[#D8C9FF]">
                        <p class="text-[10px] font-black uppercase text-[#5D4DA3] mb-1">Collaborative Tip</p>
                        <p id="guide-tip" class="text-xs leading-relaxed italic opacity-80">
                            Check in on their energy. If spoons are low, keep the goal very small.
                        </p>
                    </div>
                </div>
            </aside>

            <!-- RIGHT: INTERACTIVE PLANNER -->
            <div class="lg:col-span-8">
                <div class="glass-card p-8 md:p-12 rounded-[2.5rem] border-2 border-white/50 shadow-2xl shadow-indigo-100/30 min-h-[600px] flex flex-col">
                    
                    <div id="steps-container" class="flex-1">
                        <!-- Step 1: Foundations & Energy -->
                        <div class="step-content active" data-step="0" data-title="Foundations" data-guide="Start by checking in. Mentors: If the student's energy is low, encourage them to set a 'Mini-Goal' today instead of a big one." data-tip="The goal should fit the energy available. Pushing too hard leads to burnout.">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                                <div>
                                    <label class="block text-[10px] font-black uppercase tracking-widest text-indigo-400 mb-2">Student Name</label>
                                    <input type="text" id="studentName" class="w-full p-4 bg-white/50 rounded-2xl outline-none border-2 border-transparent focus:border-[#D8C9FF]" placeholder="Name">
                                </div>
                                <div>
                                    <label class="block text-[10px] font-black uppercase tracking-widest text-indigo-400 mb-2">Plan Date</label>
                                    <input type="date" id="planDate" class="w-full p-4 bg-white/50 rounded-2xl outline-none border-2 border-transparent focus:border-[#D8C9FF]">
                                </div>
                            </div>
                            
                            <label class="block text-[10px] font-black uppercase tracking-widest text-teal-600 mb-4">How is your mental energy (Spoons) today?</label>
                            <div class="flex gap-2 mb-8 overflow-x-auto pb-2">
                                <button onclick="setEnergy(1)" class="energy-btn flex-1 py-4 bg-white border-2 border-dashed border-gray-200 rounded-2xl text-xl hover:border-teal-400 transition-all" data-value="1">ðŸ¥„</button>
                                <button onclick="setEnergy(2)" class="energy-btn flex-1 py-4 bg-white border-2 border-dashed border-gray-200 rounded-2xl text-xl hover:border-teal-400 transition-all" data-value="2">ðŸ¥„ðŸ¥„</button>
                                <button onclick="setEnergy(3)" class="energy-btn flex-1 py-4 bg-white border-2 border-dashed border-gray-200 rounded-2xl text-xl hover:border-teal-400 transition-all" data-value="3">ðŸ¥„ðŸ¥„ðŸ¥„</button>
                                <button onclick="setEnergy(4)" class="energy-btn flex-1 py-4 bg-white border-2 border-dashed border-gray-200 rounded-2xl text-xl hover:border-teal-400 transition-all" data-value="4">ðŸ¥„ðŸ¥„ðŸ¥„ðŸ¥„</button>
                                <button onclick="setEnergy(5)" class="energy-btn flex-1 py-4 bg-white border-2 border-dashed border-gray-200 rounded-2xl text-xl hover:border-teal-400 transition-all" data-value="5">ðŸ¥„ðŸ¥„ðŸ¥„ðŸ¥„ðŸ¥„</button>
                            </div>
                        </div>

                        <!-- Step 2: Specific -->
                        <div class="step-content" data-step="1" data-title="S: Specific" data-guide="What exactly are we doing? Try to describe the 'finished' state." data-tip="Ask: 'When you close your eyes and imagine this being done, what do you see?'">
                            <label class="block text-[10px] font-black uppercase tracking-widest text-orange-400 mb-4">My Goal</label>
                            <textarea id="goalSpecific" oninput="updateAnchor(this.value)" rows="6" class="w-full p-5 bg-white/50 rounded-3xl outline-none border-2 border-transparent focus:border-[#F06543]/40 resize-none text-sm" placeholder="e.g., To visit the learning advisor for support with my assignment writing..."></textarea>
                        </div>

                        <!-- Step 3: Measurable & Obstacles -->
                        <div class="step-content" data-step="2" data-title="M: Measurable" data-guide="How do we track it? Also, let's anticipate what might get in the way." data-tip="Identifying 'The Wall' (Executive Dysfunction) early makes it easier to climb.">
                            <label class="block text-[10px] font-black uppercase tracking-widest text-emerald-500 mb-4">How will I know I'm successful?</label>
                            <input type="text" id="goalMeasurable" class="w-full p-4 bg-white/50 rounded-2xl mb-8 outline-none border-2 border-transparent focus:border-[#56B97E]/30" placeholder="e.g. When the draft is uploaded, or when I attend 2 sessions.">
                            
                            <label class="block text-[10px] font-black uppercase tracking-widest text-rose-400 mb-4">Potential Obstacles (What stops me?)</label>
                            <textarea id="goalObstacles" rows="3" class="w-full p-4 bg-white/50 rounded-2xl outline-none border-2 border-transparent focus:border-rose-200 resize-none text-sm" placeholder="e.g. Forgetting the time, getting overwhelmed by the library noise..."></textarea>
                        </div>

                        <!-- Step 4: Achievable & Relevant -->
                        <div class="step-content" data-step="3" data-title="A & R: Realistic" data-guide="Is this goal relevant to your purpose? Does it give you a sense of direction?" data-tip="Ensure the goal is something THEY want, not just what they think they 'should' do.">
                            <label class="block text-[10px] font-black uppercase tracking-widest text-[#E9BC6B] mb-4">Why is this important to me?</label>
                            <textarea id="goalRealistic" rows="6" class="w-full p-5 bg-white/50 rounded-3xl outline-none border-2 border-transparent focus:border-[#E9BC6B]/40 resize-none text-sm" placeholder="How does this goal help your life purposes or your degree?"></textarea>
                        </div>

                        <!-- Step 5: Timebound -->
                        <div class="step-content" data-step="4" data-title="T: Time-Bound" data-guide="When is the deadline? Is it a 'Hard' (Uni requirement) or 'Soft' (Personal goal) deadline?" data-tip="Soft deadlines should be flexible to reduce anxiety.">
                            <label class="block text-[10px] font-black uppercase tracking-widest text-[#6BA39C] mb-4">Deadline & Style</label>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <input type="text" id="goalTime" class="p-4 bg-white/50 rounded-2xl outline-none border-2 border-transparent focus:border-[#6BA39C]/40" placeholder="When do I want to finish?">
                                <select id="timeType" class="p-4 bg-white/50 rounded-2xl outline-none border-2 border-transparent focus:border-[#6BA39C]/40">
                                    <option value="soft">Soft Target (Flexible)</option>
                                    <option value="hard">Hard Deadline (Fixed)</option>
                                </select>
                            </div>
                        </div>

                        <!-- Step 6: Break it Down -->
                        <div class="step-content" data-step="5" data-title="Tasks & Activities" data-guide="The 'How-To'. List the very first, smallest step first." data-tip="The first step should be so small it feels almost too easy (e.g., 'Open the Word document').">
                            <label class="block text-[10px] font-black uppercase tracking-widest text-indigo-400 mb-4">Micro-Tasks to reach the goal</label>
                            <textarea id="goalTasks" rows="6" class="w-full p-5 bg-white/50 rounded-3xl outline-none border-2 border-transparent focus:border-[#D8C9FF] resize-none text-sm" placeholder="1. First small task&#10;2. Second task..."></textarea>
                        </div>

                        <!-- Step 7: The Timeline -->
                        <div class="step-content" data-step="6" data-title="Timeline View" data-guide="Looking at the horizon. How do your goals stack up over time?" data-tip="Breaking it into Short, Medium, and Long term helps prevent 'future overwhelm'.">
                            <div class="space-y-4">
                                <div class="p-4 bg-white/30 rounded-2xl border border-white">
                                    <label class="text-[9px] font-black uppercase text-emerald-600 mb-1 block">Short Term (Weeks)</label>
                                    <input type="text" id="shortTerm" class="w-full bg-transparent border-b border-emerald-200 outline-none p-1 text-sm">
                                </div>
                                <div class="p-4 bg-white/30 rounded-2xl border border-white">
                                    <label class="text-[9px] font-black uppercase text-amber-600 mb-1 block">Medium Term (Months)</label>
                                    <input type="text" id="mediumTerm" class="w-full bg-transparent border-b border-amber-200 outline-none p-1 text-sm">
                                </div>
                                <div class="p-4 bg-white/30 rounded-2xl border border-white">
                                    <label class="text-[9px] font-black uppercase text-rose-500 mb-1 block">Long Term (Years)</label>
                                    <input type="text" id="longTerm" class="w-full bg-transparent border-b border-rose-200 outline-none p-1 text-sm">
                                </div>
                            </div>
                        </div>

                        <!-- Step 8: Reward & Review -->
                        <div class="step-content" data-step="7" data-title="Celebration Plan" data-guide="Neurodivergent brains often need a dopamine reward! How will you celebrate finishing?" data-tip="Mentors: This is the most important step for maintaining long-term motivation.">
                            <label class="block text-[10px] font-black uppercase tracking-widest text-purple-500 mb-4">My Reward / Celebration</label>
                            <textarea id="goalReward" rows="4" class="w-full p-5 bg-white/50 rounded-3xl outline-none border-2 border-transparent focus:border-purple-200 resize-none text-sm" placeholder="What is one thing I love that I will do/get once this goal is done?"></textarea>
                            <div id="review-summary" class="mt-8 bg-white/40 p-6 rounded-3xl border border-white space-y-3 max-h-[250px] overflow-y-auto text-xs">
                                <!-- Summary injected by JS -->
                            </div>
                        </div>
                    </div>

                    <!-- FOOTER -->
                    <div class="mt-8 pt-8 border-t border-white/50 flex justify-between items-center">
                        <button id="prevBtn" class="flex items-center gap-2 px-6 py-3 font-bold text-xs opacity-0 pointer-events-none hover:bg-white/50 rounded-xl transition-all">
                            <i data-lucide="chevron-left" class="w-4 h-4"></i> Previous
                        </button>
                        <button id="nextBtn" class="flex items-center gap-3 px-10 py-4 bg-[#56B97E] text-white rounded-2xl font-bold text-sm shadow-xl shadow-[#56B97E]/20 hover:scale-105 active:scale-95 transition-all">
                            Next <i data-lucide="chevron-right" class="w-4 h-4"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- PRINT VIEW -->
    <div id="print-area" class="print-only">
        <div class="border-b-4 border-[#D8C9FF] pb-4 mb-8 flex justify-between items-end">
            <div>
                <h1 class="text-3xl font-black text-gray-800">Goal Planning</h1>
                <p class="text-sm font-bold text-[#5D4DA3] tracking-widest uppercase">ECU Mentoring Program</p>
            </div>
            <div class="text-right text-[10px]">
                <p><strong>Student:</strong> <span id="p-name"></span></p>
                <p><strong>Energy Level:</strong> <span id="p-energy"></span></p>
            </div>
        </div>

        <div class="grid grid-cols-1 gap-4">
            <div class="print-card bg-[#F9F7FF]">
                <h2 class="text-xs font-black uppercase tracking-widest text-[#5D4DA3] mb-2">The SMART Goal</h2>
                <p id="p-smart" class="text-sm italic text-gray-700"></p>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div class="print-card">
                    <h2 class="text-[9px] font-black uppercase text-emerald-600 mb-1">Success Criteria</h2>
                    <p id="p-meas" class="text-xs"></p>
                </div>
                <div class="print-card">
                    <h2 class="text-[9px] font-black uppercase text-rose-500 mb-1">Obstacles to Watch</h2>
                    <p id="p-obs" class="text-xs"></p>
                </div>
            </div>

            <div class="print-card">
                <h2 class="text-[9px] font-black uppercase text-indigo-500 mb-1">Tasks & Steps</h2>
                <p id="p-tasks" class="text-xs whitespace-pre-wrap"></p>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div class="print-card">
                    <h2 class="text-[9px] font-black uppercase text-teal-600 mb-1">Timeframe</h2>
                    <p id="p-time" class="text-xs"></p>
                </div>
                <div class="print-card bg-purple-50">
                    <h2 class="text-[9px] font-black uppercase text-purple-600 mb-1">The Celebration</h2>
                    <p id="p-reward" class="text-xs font-bold"></p>
                </div>
            </div>

            <div class="print-card">
                <h2 class="text-xs font-black uppercase tracking-widest text-gray-400 mb-2 text-center">My Timeline View</h2>
                <div class="space-y-2 text-[10px]">
                    <p><strong>Short:</strong> <span id="p-short"></span></p>
                    <p><strong>Medium:</strong> <span id="p-med"></span></p>
                    <p><strong>Long:</strong> <span id="p-long"></span></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        let currentStep = 0;
        let selectedEnergy = 0;
        const totalSteps = 8;
        const steps = document.querySelectorAll('.step-content');
        const nextBtn = document.getElementById('nextBtn');
        const prevBtn = document.getElementById('prevBtn');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const goalAnchor = document.getElementById('goal-anchor');
        const anchorText = document.getElementById('anchor-text');
        const reviewSummary = document.getElementById('review-summary');

        function setEnergy(val) {
            selectedEnergy = val;
            document.querySelectorAll('.energy-btn').forEach(btn => {
                btn.classList.toggle('selected', parseInt(btn.dataset.value) === val);
            });
        }

        function updateAnchor(val) {
            if (val.length > 3) {
                goalAnchor.classList.remove('opacity-0', 'hidden');
                goalAnchor.classList.add('opacity-100');
                anchorText.innerText = val;
            } else {
                goalAnchor.classList.add('opacity-0');
            }
        }

        function updateUI() {
            steps.forEach((s, i) => s.classList.toggle('active', i === currentStep));

            const activeStep = steps[currentStep];
            document.getElementById('guide-title').innerText = activeStep.dataset.title;
            document.getElementById('guide-text').innerText = activeStep.dataset.guide;
            document.getElementById('guide-tip').innerText = activeStep.dataset.tip;

            const perc = ((currentStep + 1) / totalSteps) * 100;
            progressBar.style.width = perc + '%';
            progressText.innerText = `${currentStep + 1} / ${totalSteps}`;

            prevBtn.style.opacity = currentStep === 0 ? '0' : '1';
            prevBtn.style.pointerEvents = currentStep === 0 ? 'none' : 'auto';

            if (currentStep === totalSteps - 1) {
                nextBtn.innerHTML = '<i data-lucide="printer"></i> Export PDF';
                generateSummary();
            } else {
                nextBtn.innerHTML = 'Next <i data-lucide="chevron-right"></i>';
            }
            lucide.createIcons();
        }

        function generateSummary() {
            const data = {
                "Student": document.getElementById('studentName').value,
                "The Goal": document.getElementById('goalSpecific').value,
                "Obstacles": document.getElementById('goalObstacles').value,
                "Deadline": `${document.getElementById('goalTime').value} (${document.getElementById('timeType').value})`,
                "Steps": document.getElementById('goalTasks').value,
                "Celebration": document.getElementById('goalReward').value
            };

            let html = '';
            for (let [key, val] of Object.entries(data)) {
                html += `<div><p class="font-black opacity-40 uppercase tracking-tighter">${key}</p><p>${val || 'â€”'}</p></div>`;
            }
            reviewSummary.innerHTML = html;
        }

        function preparePrint() {
            document.getElementById('p-name').innerText = document.getElementById('studentName').value || 'â€”';
            document.getElementById('p-energy').innerText = 'ðŸ¥„'.repeat(selectedEnergy) || 'Not recorded';
            document.getElementById('p-smart').innerText = document.getElementById('goalSpecific').value || 'â€”';
            document.getElementById('p-meas').innerText = document.getElementById('goalMeasurable').value || 'â€”';
            document.getElementById('p-obs').innerText = document.getElementById('goalObstacles').value || 'â€”';
            document.getElementById('p-time').innerText = `${document.getElementById('goalTime').value} (${document.getElementById('timeType').value})`;
            document.getElementById('p-tasks').innerText = document.getElementById('goalTasks').value || 'â€”';
            document.getElementById('p-reward').innerText = document.getElementById('goalReward').value || 'â€”';
            document.getElementById('p-short').innerText = document.getElementById('shortTerm').value || 'â€”';
            document.getElementById('p-med').innerText = document.getElementById('mediumTerm').value || 'â€”';
            document.getElementById('p-long').innerText = document.getElementById('longTerm').value || 'â€”';
        }

        nextBtn.addEventListener('click', () => {
            if (currentStep < totalSteps - 1) {
                currentStep++;
                updateUI();
            } else {
                preparePrint();
                window.print();
            }
        });

        prevBtn.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                updateUI();
            }
        });

        updateUI();
    </script>
</body>
</html>